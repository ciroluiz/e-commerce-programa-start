import{a as U}from"./chunk-6EP4U4HG.js";import{C as m,Ca as w,D as s,Da as S,Ea as R,Oa as F,P as I,Pa as j,Qa as D,R as a,Ra as z,V as x,Wa as B,Y as O,Z as f,Za as q,aa as v,ab as L,cb as W,da as h,ha as n,ia as o,ib as A,ja as b,ka as y,la as g,ma as p,mb as Q,ob as P,ta as E,ua as c,va as M,w as u,wa as N,xa as T,ya as V,za as k}from"./chunk-PLT6TRCP.js";function H(t,i){if(t&1){let e=y();n(0,"li"),b(1,"img",6),n(2,"p"),c(3),o(),n(4,"p"),c(5),w(6,"currency"),o(),n(7,"label"),c(8," Quantidade "),n(9,"input",7),k("ngModelChange",function(r){let d=m(e).$implicit;return V(d.quantidade,r)||(d.quantidade=r),s(r)}),g("change",function(){m(e);let r=p(2);return s(r.calcularTotal())}),o()(),n(10,"button",8),g("click",function(){let r=m(e).$implicit,d=p(2);return s(d.removerDoCarrinho(r.id))}),b(11,"i",9),o()()}if(t&2){let e=i.$implicit;a(),h("src",e.imagem,I),a(2),M(e.descricao),a(2),M(S(6,4,e.preco,"BRL")),a(4),T("ngModel",e.quantidade)}}function J(t,i){if(t&1){let e=y();n(0,"div")(1,"ul"),v(2,H,12,7,"li",3),o(),n(3,"h2",4),c(4),w(5,"currency"),o(),n(6,"button",5),g("click",function(){m(e);let r=p();return s(r.comprar())}),c(7,"Comprar"),o()()}if(t&2){let e=p();a(2),h("ngForOf",e.itensCarrinho),a(2),N("Total: ",S(5,2,e.total,"BRL"),"")}}function K(t,i){t&1&&(n(0,"p",10),c(1,"N\xE3o h\xE1 produtos"),o())}var C=class t{constructor(i,e){this.carrinhoService=i;this.router=e}itensCarrinho=[];total=0;ngOnInit(){this.itensCarrinho=this.carrinhoService.obtemCarrinho(),this.calcularTotal()}calcularTotal(){this.total=this.itensCarrinho.reduce((i,e)=>i+e.preco*e.quantidade,0)}removerDoCarrinho(i){this.itensCarrinho=this.itensCarrinho.filter(e=>e.id!==i),this.carrinhoService.removerDoCarrinho(i)}comprar(){alert("Compra realizada com sucesso!"),this.carrinhoService.limparCarrinho(),this.router.navigate(["/produtos"])}static \u0275fac=function(e){return new(e||t)(x(U),x(Q))};static \u0275cmp=O({type:t,selectors:[["app-carrinho"]],standalone:!1,decls:5,vars:2,consts:[["semProduto",""],[1,"cart-title"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"cart-total"],[1,"buy-button",3,"click"],["alt","Produto",3,"src"],["type","number",3,"ngModelChange","change","ngModel"],[1,"remove-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"no-products-message"]],template:function(e,l){if(e&1&&(n(0,"h2",1),c(1,"Carrinho"),o(),v(2,J,8,5,"div",2)(3,K,2,0,"ng-template",null,0,R)),e&2){let r=E(4);a(2),h("ngIf",l.itensCarrinho.length>0)("ngIfElse",r)}},dependencies:[F,j,B,W,q,L,D],styles:[".cart-title[_ngcontent-%COMP%]{font-size:44px;color:var(--gray);font-weight:700;padding:8px 0}li[_ngcontent-%COMP%]{display:flex;box-shadow:#64646f33 0 7px 29px;border-radius:8px;overflow:hidden;margin:10px 0;height:100px;align-items:center;justify-content:space-between}img[_ngcontent-%COMP%]{width:100px;height:100px;display:block}.remove-button[_ngcontent-%COMP%]{background-color:red;border:none;color:#fff;padding:20px;height:100%;transition:.2s all}.remove-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.cart-total[_ngcontent-%COMP%]{font-size:24px;color:var(--gray);font-weight:700;padding:8px 0}input[_ngcontent-%COMP%]{width:30px;text-align:center}.buy-button[_ngcontent-%COMP%]{background-color:var(--blue);border:none;color:#fff;padding:10px;font-size:22px;margin-bottom:10px;transition:.3s all}.buy-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.no-products-message[_ngcontent-%COMP%]{font-size:44px;color:var(--gray);font-weight:700;padding:30px 0 0}"]})};var X=[{path:"",component:C}],_=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=f({type:t});static \u0275inj=u({imports:[P.forChild(X),P]})};var G=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=f({type:t});static \u0275inj=u({imports:[z,_,A]})};export{G as CarrinhoModule};
